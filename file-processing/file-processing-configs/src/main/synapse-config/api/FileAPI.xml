<?xml version="1.0" encoding="UTF-8"?>
<api context="/files" name="FileAPI" xmlns="http://ws.apache.org/ns/synapse">
    <resource methods="POST" url-mapping="/upload">
        <inSequence>
            <sequence key="Form_Submit_File_To_SFTP"/>
        </inSequence>
        <outSequence/>
        <faultSequence/>
    </resource>
    <resource methods="POST" uri-template="/download/{docId}">
        <inSequence>
            <sequence key="Download_File_To_SFTP"/>
        </inSequence>
        <outSequence/>
        <faultSequence/>
    </resource>
    <resource methods="POST" url-mapping="/uploadSftp">
        <inSequence>
            <sequence key="Local_File_To_SFTP"/>
        </inSequence>
        <outSequence/>
        <faultSequence>
            <payloadFactory media-type="text">
                <format>Failed to process the request</format>
                <args/>
            </payloadFactory>
            <respond/>
        </faultSequence>
    </resource>
    <resource methods="POST" url-mapping="/uploadObjectStorage">
        <inSequence>
            <sequence key="Local_File_To_Object_Storage"/>
        </inSequence>
        <outSequence/>
        <faultSequence/>
    </resource>
    <resource methods="POST" url-mapping="/readTextFile">
        <inSequence>
            <sequence key="Read_File_Content_To_Kafka"/>
        </inSequence>
        <outSequence/>
        <faultSequence/>
    </resource>
</api>
